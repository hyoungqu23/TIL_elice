## JavaScript 실행의 이해

### 01. JavaScript 변수 정의 과정
#### JavaScript Engine
JavaScript Engine은 JavaScript 코드를 읽어 실행하는 프로그램으로, 작성된 JavaScript 코드가 JavaScript Engine을 통해 [파싱](https://oneroomtable.tistory.com/entry/%ED%8C%8C%EC%8B%B1%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C-%EB%B2%88%EC%97%AD)([parsing](https://developer.mozilla.org/en-US/docs/Glossary/Parse))되고 실행된다. 즉, 작성된 코드는 JavaScript Engine에 의해 AST 형식으로 파싱되고, Compiler가 읽어 머신 코드로 변경해준 후 컴퓨터 CPU에 의해 실행된다.

#### Node.js
Node.js는 브라우저 외부 환경에서 JavaScript 코드를 실행하도록 하는 프로그램이다.

#### JavaScript 코드의 실행 순서
1. JavaScript Engine은 코드의 실행 이전 Execution Context를 생성한다.
2. 생성 단계에서 JavaScript Engine은 변수 선언을 읽는다.(`a`, `b` 등이 Variable Object에 등록된다.)
   - JavaScript Engine은 생성 단계에서 함수 선언문, 함수 표현식, 변수 등을 읽어 Execution Context에 저장한다.
   - 변수의 경우, Execution Context의 Lexical Environment를 구성한다.
   - 함수 선언문 외에 변수는 값이 저장되지 않는다. 즉, 함수는 객체 전체가 저장되나, 변수는 값이 저장되지 않고, 할당 공간만 생성된다.
   - 이러한 경우, `var` 변수는 undefined, `let`, `const`는 `uninitialized` 값으로 초기화된다.

3. 실행 단계에서 JavaScript Engine은 변수의 값을 할당한다.(`10`, `20` 등 값이 Variable Object에 이미 등록된 `a`, `b` 등에 할당된다.)
   - JavaScript Engine은 변수에 값을 할당하는 구문을 만나면 Execution Context에 값을 저장한다.
   - 그 외 코드를 한 줄씩 읽어 나가며 실행한다.

#### Lexical Environment
함수가 사용되는 변수들을 둘러싼 환경을 의미한다. 따라서 특정 변수의 값은 함수의 Lexical Environment 안에서 찾을 수 있다. 즉, Execution Context 내부에 정의된 Variable Object로 이해할 수 있다. 이때, Lexical Environment는 Scope Chain을 포함해, 외부에서 선언된 변수의 값을 참조할 수 있다.

### 02. Hoisting